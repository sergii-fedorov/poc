name: Testing

on:
  push:
    tags:
      - 'testing'

  workflow_dispatch:
    inputs:
      environment:
        type: environment
        required: true
        
jobs:
  deploy:
    runs-on: ubuntu-latest
    environment: ${{ github.event_name == 'push' && 'testing' || inputs.environment }}

    steps:
      - name: 'Display state'
        run: |
          echo "Event name is: ${{ github.event_name }}"
          echo "Job environment is: ${{ job.environment }}"
          echo "Jobs environment is: ${{ jobs.environment }}"
          echo "Job is: ${{ job }}"
          echo "Jobs is: ${{ jobs }}"
